"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _sequelize=_interopRequireDefault(require("sequelize"));var _database=require("../database/database");var _bcryptjs=_interopRequireDefault(require("bcryptjs"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value);}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err);}_next(undefined);});};}var Usuario=_database.sequelize.define('usuario',{usuarioid:{type:_sequelize["default"].INTEGER,primaryKey:true},username:{type:_sequelize["default"].TEXT,required:true},email:{type:_sequelize["default"].TEXT},password:{type:_sequelize["default"].TEXT}},{tableName:'usuario',timestamps:false});Usuario.prototype.encriptarPassword=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(password){var salt;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _bcryptjs["default"].genSalt(10);case 2:salt=_context.sent;return _context.abrupt("return",_bcryptjs["default"].hash(password,salt));case 4:case"end":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();Usuario.prototype.validarPassword=function(password){return _bcryptjs["default"].compare(password,this.password);};var _default=Usuario;exports["default"]=_default;