"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.estaAutenticado=estaAutenticado;var _jsonwebtoken=_interopRequireDefault(require("jsonwebtoken"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}function estaAutenticado(req,res,next){try{var token=req.headers['x-access-token'];if(!token){return res.status(401).json({message:'No se ha proveido ningun token'});}var decoded=_jsonwebtoken["default"].verify(token,process.env.SECRET_KEY);req.body.usuarioid=decoded.usuarioid;next();}catch(err){console.log(err);res.status(500).json({message:'Token no valido'});};};