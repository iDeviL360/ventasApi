"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.obtenerClientes=obtenerClientes;exports.obtenerClientePorCedula=obtenerClientePorCedula;exports.agregarCliente=agregarCliente;var _Cliente=_interopRequireDefault(require("../models/Cliente"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value);}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err);}_next(undefined);});};}function obtenerClientes(_x,_x2){return _obtenerClientes.apply(this,arguments);}function _obtenerClientes(){_obtenerClientes=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(req,res){var clientes;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _Cliente["default"].findAll();case 2:clientes=_context.sent;res.json(clientes);case 4:case"end":return _context.stop();}}},_callee);}));return _obtenerClientes.apply(this,arguments);}function obtenerClientePorCedula(_x3,_x4){return _obtenerClientePorCedula.apply(this,arguments);}function _obtenerClientePorCedula(){_obtenerClientePorCedula=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee2(req,res){var cedula,cliente;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;cedula=req.params.cedula;_context2.next=4;return _Cliente["default"].findOne({where:{cedula:cedula}});case 4:cliente=_context2.sent;res.json(cliente);_context2.next=12;break;case 8:_context2.prev=8;_context2.t0=_context2["catch"](0);console.log(_context2.t0);res.status(500).json({message:'Uupss, algo ha ido mal!'});case 12:case"end":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return _obtenerClientePorCedula.apply(this,arguments);}function agregarCliente(_x5,_x6){return _agregarCliente.apply(this,arguments);}function _agregarCliente(){_agregarCliente=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee3(req,res){var _req$body,nombre,cedula,nuevoCliente;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_req$body=req.body,nombre=_req$body.nombre,cedula=_req$body.cedula;_context3.next=4;return _Cliente["default"].create({nombre:nombre,cedula:cedula},{fields:['nombre','cedula']});case 4:nuevoCliente=_context3.sent;res.json(nuevoCliente);_context3.next=12;break;case 8:_context3.prev=8;_context3.t0=_context3["catch"](0);console.log(_context3.t0);res.status(500).json({message:'Uupss, algo ha ido mal!'});case 12:case"end":return _context3.stop();}}},_callee3,null,[[0,8]]);}));return _agregarCliente.apply(this,arguments);}